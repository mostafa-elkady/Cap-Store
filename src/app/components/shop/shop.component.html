<div class="shop">
  <header>
    <div class="container">
      <div class="d-flex justify-content-between">
        <h3>Shop</h3>
        <div>
            <a routerLink="/home" routerLinkActive="active">
              <i class="fas fa-home"></i>
            </a>
            <span class="breadcrumb-separator">&gt;</span>
            <a routerLink="/shop" routerLinkActive="active">Shop</a>
          </div>
      </div>
    </div>
  </header>
  <div class="container">
    <section class="shop-container">
      <div class="products-grid">
        <article class="product-card" *ngFor="let product of products$ | async">
          <div class="image-container">
            <img [src]="product.imageUrl" [alt]="product.name" />
            <div class="overlay">
              <button class="quick-view" (click)="onQuickView(product.id!)">
                Quick View
              </button>
            </div>
            <span class="category-tag">{{ product.category }}</span>
          </div>

          <div class="product-info">
            <h3 class="product-name">{{ product.name }}</h3>
            <p class="sub-description">{{ product.subDescription }}</p>

            <div class="product-details">
              <div class="price-stock">
                <span class="price">${{ product.price }}</span>
                <span class="stock-status" [class.in-stock]="product.inStock">
                  {{ product.inStock ? "In Stock" : "Out of Stock" }}
                </span>
              </div>

              <div class="variants">
                <div class="colors" *ngIf="product.colors?.length">
                  <span
                    class="color-dot"
                    *ngFor="let color of product.colors?.slice(0, 3)"
                    [style.background-color]="getColorCode(color)"
                    [title]="color"
                  >
                  </span>
                  <span class="more-colors" *ngIf="product.colors!.length > 3">
                    +{{ product.colors!.length - 3 }}
                  </span>
                </div>

                <div class="sizes" *ngIf="product.sizes?.length">
                  <span
                    class="size"
                    *ngFor="let size of product.sizes?.slice(0, 3)"
                  >
                    {{ size }}
                  </span>
                  <span class="more-sizes" *ngIf="product.sizes!.length > 3">
                    +{{ product.sizes!.length - 3 }}
                  </span>
                </div>
              </div>
            </div>

            <div class="actions">
              <button class="add-to-cart">Add to Cart</button>
              <button class="favorite">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
                  />
                </svg>
              </button>
            </div>
          </div>
        </article>
      </div>
    </section>
  </div>
</div>
